<MapDefinitions>
    <MapDefinition name="Island" width="16~32" height="9~18" fillTile="EdgedGrass" edgeTile="EdgedWater">
        <GenerationSteps>
            <CellularAutomata ifIsType="EdgedGrass" ifNeighborType="EdgedWater" changeToType="CliffGrass"/>
            <RoomsAndPaths>
                <Rooms count="3" width="2~5" height="3~6" floor="HardWoodFloor" wall="StoneWall"/>
                <Paths floor="EdgedSand" loop="false"/>
            </RoomsAndPaths>

            <Sprinkle ifIsType="HardWoodFloor" changeToType="StairsDown" setTags="stairsDown" count="1"/>
            <CellularAutomata ifNeighborType="StairsDown" setTags="stairDownAccess"/>

            <Sprinkle ifIsType="HardWoodFloor" spawnActor="HumanFemale" controller="Player" count="1"/>
            <!--
            <Sprinkle ifIsType="HardWoodFloor" spawnActor="SkeletonMale" controller="Enemy" count="1"/>

            <Sprinkle ifIsType="Grass" changeToType="Stone" count="0~4"/>
            <CellularAutomata ifIsType="Grass" ifNeighborType="Stone" changeToType="Stone"/>
            <DistanceField ifIsType="Water" movementType="Walk"/>
            <CellularAutomata ifDistanceField="4~5" changeToType="Stone"/>
            <FromImage imageFilePath="Data/Images/MGS_FromImage_Test.png" numRotations="0~3" alignX="0.9" alignY="0.9"/>
            <CellularAutomata ifDistanceField="4~5" spawnActor="Girl"/>
            <CellularAutomata ifDistanceField="4~5" spawnItem="ShortSword"/>
            <CellularAutomata ifIsType="Stone" ifNeighborType="Stone" ifNumNeighbors="3" changeToType="Water"/>
            <CellularAutomata ifIsType="Grass" ifNeighborType="Water" changeToType="Stone" chancePerTile="0.5"/>
            <CellularAutomata ifIsType="Stone" ifNeighborType="Water" ifNumNeighbors="4" changeToType="Grass"/>
            <PerlinNoise ifIsType="Grass" ifNoise="-0.1~0.1" octaves="1" gridSize="20" changeToType="Stone"/>
            -->
        </GenerationSteps>
    </MapDefinition>
    <MapDefinition name="Cave" width="50~100" height="50~100" fillTile="FakeStone">
        <GenerationSteps>
            <RoomsAndPaths>
                <Rooms count="5~15" width="10~20" height="10~20" floor="CaveDirtFloor" wall="StoneWall"/>
                <Paths floor="CaveDirtFloor" loop="true"/>
            </RoomsAndPaths>
            <!-- Walls -->
            <CellularAutomata ifIsType="FakeStone" ifNeighborType="CaveDirtFloor" changeToType="CaveDirtFloor"/>
            <CellularAutomata ifIsType="StoneWall" ifNeighborType="FakeStone" ifNumNeighbors="1" changeToType="CaveDirtFloor"/>
            <CellularAutomata ifIsType="FakeStone" ifNeighborType="CaveDirtFloor" changeToType="StoneWall"/>
            <!-- Stairs -->
            <Sprinkle ifIsType="CaveDirtFloor" changeToType="StairsDown" setTags="stairsDown" count="1"/>
            <CellularAutomata ifNeighborType="StairsDown" setTags="stairDownAccess"/>
            <Sprinkle ifIsType="CaveDirtFloor" changeToType="StairsUp" setTags="stairsUp" count="1"/>
            <CellularAutomata ifNeighborType="StairsUp" setTags="stairUpAccess"/>
            <!-- Merchant -->
            <!--Sprinkle ifHasTags="stairDownAccess" spawnActor="Merchant" controller="Merchant" setTags="merchant" count="1"/>-->
            <Sprinkle ifHasTags="stairUpAccess" ifIsType="CaveDirtFloor" spawnActor="Merchant" controller="Merchant" setTags="merchant" count="1"/>
            <CellularAutomata ifNeighborHasTags="merchant" setTags="merchantAccess"/>
            <!--<Sprinkle ifHasTags="stairUpAccess" spawnActor="SkeletonMale" controller="Enemy" count="1"/>-->
            <Sprinkle ifIsType="CaveDirtFloor" spawnActor="SkeletonMale" controller="Enemy" count="20"/>
            <!--<Sprinkle ifHasTags="stairUpAccess" spawnActor="SkeletonMale" controller="Enemy" count="1"/>-->
        </GenerationSteps>
    </MapDefinition>
</MapDefinitions>