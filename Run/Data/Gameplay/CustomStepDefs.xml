<CustomSteps>
    <Custom name="AddStairs">
        <Sprinkle ifIsType="%groundType%" setType="StairsDown" setTags="stairsDown"/>
        <CellularAutomata setTags="stairsDownAccess" ifNeighborType="StairsDown"/>
        <DistanceField ifIsType="StairsDown" movementType="Walk"/>
        <Sprinkle ifIsType="%groundType%" ifHeatMapDistance="%stairDistRange%" setType="StairsUp" setTags="stairsUp"/>
        <CellularAutomata setTags="stairsUpAccess" ifNeighborType="StairsUp"/>
        <Motif name="AddStairs">
            <groundType value="EdgedSand" type="Tile"/>
            <stairDistRange value="0~999998" type="IntRange"/>
        </Motif>
    </Custom>
    <Custom name="AddLoot">
        <DistanceField ifIsType="StairsDown" movementType="Walk" heatMapName="LootStairsDown"/>
        <DistanceField ifIsType="StairsUp"   movementType="Walk" heatMapName="LootStairsUp"/>
        <Sprinkle count="%numPieces%" ifHeatMapLootStairsDown="%distFromStairs%" ifHeatMapLootStairsUp="%distFromStairs%" spawnItem="PlateHelm"/>
        <Motif name="AddLoot">
            <numPieces      value="2~6"       type="IntRange"/>
            <distFromStairs value="50~999998" type="IntRange"/>
        </Motif>
    </Custom>
</CustomSteps>